---
# assert for cluster Master custom resource to be ready
apiVersion: enterprise.splunk.com/v3
kind: ClusterMaster
metadata:
  name: cm
status:
  phase: Ready

---
# check for stateful set
apiVersion: apps/v1
kind: StatefulSet
metadata: 
  name: splunk-cm-cluster-master
status:
  replicas: 1

---
# check if secret object is created
apiVersion: v1
kind: Secret
metadata: 
  name: splunk-cm-cluster-master-secret-v1

---
# assert for indexer cluster custom resource to be ready
apiVersion: enterprise.splunk.com/v3
kind: IndexerCluster
metadata:
  name: idx1
status:
  phase: Ready

---
# assert for indexer cluster custom resource to be ready
apiVersion: enterprise.splunk.com/v3
kind: IndexerCluster
metadata:
  name: idx2
status:
  phase: Ready

---
# assert for SearchHeadCluster custom resource to be ready
apiVersion: enterprise.splunk.com/v3
kind: SearchHeadCluster
metadata:
  name: shc1
status:
  phase: Ready

---
# check if secret object is created
apiVersion: v1
kind: Secret
metadata: 
  name: splunk-shc1-deployer-secret-v1

---
# check if secret object is created
apiVersion: v1
kind: Secret
metadata: 
  name: splunk-shc1-search-head-secret-v1

---
# check for stateful set and replicas
apiVersion: apps/v1
kind: StatefulSet
metadata: 
  name: splunk-shc1-search-head
status:
  replicas: 3

---
# check for stateful set
apiVersion: apps/v1
kind: StatefulSet
metadata: 
  name: splunk-shc1-deployer
status:
  replicas: 1
